{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function getPictures(keywordForSearch) {\n  const BASE_URL = 'https://pixabay.com/';\n  const END_POINT = 'api/';\n  const searchParams = new URLSearchParams({\n    key: '43016560-45bd583880e427992fd0250d3',\n    q: keywordForSearch,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n  const url = `${BASE_URL}${END_POINT}?${searchParams}`;\n  return fetch(url).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n","// Описаний у документації\nimport iziToast from 'izitoast';\n// Додатковий імпорт стилів\nimport 'izitoast/dist/css/iziToast.min.css';\n// import { lightBox } from '../main';\n\nexport function pictureMarkup(arr) {\n  if (arr.length === 0) {\n    iziToast.error({\n      message:\n        'Sorry, there are no images matching your search query. Please try again!',\n      position: 'topRight',\n      theme: 'dark',\n    });\n    return '';\n  } else {\n    const markup = arr\n      .map(\n        arr =>\n          `<li class=\"pictures-list-item\">\n        <a class=\"picture-link\" href=\"${arr.largeImageURL}\">\n        <img src=\"${arr.webformatURL}\" alt=\"${arr.tags}\" class=\"picture\" />\n        </a>\n        <ul class=\"picture-data-list\">\n          <li class=\"picture-data-item\"><p class=\"picture-inf\">Likes</p><p class = \"picture-inf-number\">${arr.likes}</p></li>\n          <li class=\"picture-data-item\"><p class=\"picture-inf\">Views</p><p class = \"picture-inf-number\">${arr.views}</p></li>\n          <li class=\"picture-data-item\"><p class=\"picture-inf\">Comments</p><p class = \"picture-inf-number\">${arr.comments}</p></li>\n          <li class=\"picture-data-item\"><p class=\"picture-inf\">Downloads</p><p class = \"picture-inf-number\">${arr.downloads}</p></li>\n        </ul>\n      </li>`\n      )\n      .join('');\n    return markup;\n  }\n}\n","import { getPictures } from './js/pixabay-api';\nimport { pictureMarkup } from './js/render-functions';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst form = document.querySelector('.search-photo');\nconst picturesList = document.querySelector('.pictures-list');\nexport const lightBox = new SimpleLightbox('.pictures-list a', {\n  /* options */\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nform.addEventListener('submit', handleSubmitSearch);\n\nfunction handleSubmitSearch(event) {\n  event.preventDefault();\n  picturesList.innerHTML = '';\n\n  const query = form.search.value.toLowerCase().trim();\n  if (query != '') {\n    getPictures(query)\n      .then(photos => {\n        const arrPhotos = photos.hits;\n        console.log(arrPhotos);\n        picturesList.innerHTML = pictureMarkup(arrPhotos);\n        lightBox.refresh();\n      })\n      .catch(error => console.log(error));\n  } else {\n    iziToast.error({\n      message: 'Please enter valid query.',\n      position: 'topRight',\n      theme: 'dark',\n    });\n  }\n}\n"],"names":["getPictures","keywordForSearch","BASE_URL","END_POINT","searchParams","url","response","pictureMarkup","arr","iziToast","form","picturesList","lightBox","SimpleLightbox","handleSubmitSearch","event","query","photos","arrPhotos","error"],"mappings":"6vBAAO,SAASA,EAAYC,EAAkB,CAC5C,MAAMC,EAAW,uBACXC,EAAY,OACZC,EAAe,IAAI,gBAAgB,CACvC,IAAK,qCACL,EAAGH,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EACKI,EAAM,GAAGH,CAAQ,GAAGC,CAAS,IAAIC,CAAY,GACnD,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAY,CACjC,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,CACH,CCXO,SAASC,EAAcC,EAAK,CACjC,OAAIA,EAAI,SAAW,GACjBC,EAAS,MAAM,CACb,QACE,2EACF,SAAU,WACV,MAAO,MACb,CAAK,EACM,IAEQD,EACZ,IACCA,GACE;AAAA,wCAC8BA,EAAI,aAAa;AAAA,oBACrCA,EAAI,YAAY,UAAUA,EAAI,IAAI;AAAA;AAAA;AAAA,0GAGoDA,EAAI,KAAK;AAAA,0GACTA,EAAI,KAAK;AAAA,6GACNA,EAAI,QAAQ;AAAA,8GACXA,EAAI,SAAS;AAAA;AAAA,YAGpH,EACA,KAAK,EAAE,CAGd,CC1BA,MAAME,EAAO,SAAS,cAAc,eAAe,EAC7CC,EAAe,SAAS,cAAc,gBAAgB,EAC/CC,EAAW,IAAIC,EAAe,mBAAoB,CAE7D,aAAc,MACd,aAAc,GAChB,CAAC,EAEDH,EAAK,iBAAiB,SAAUI,CAAkB,EAElD,SAASA,EAAmBC,EAAO,CACjCA,EAAM,eAAc,EACpBJ,EAAa,UAAY,GAEzB,MAAMK,EAAQN,EAAK,OAAO,MAAM,YAAW,EAAG,OAC1CM,GAAS,GACXhB,EAAYgB,CAAK,EACd,KAAKC,GAAU,CACd,MAAMC,EAAYD,EAAO,KACzB,QAAQ,IAAIC,CAAS,EACrBP,EAAa,UAAYJ,EAAcW,CAAS,EAChDN,EAAS,QAAO,CACxB,CAAO,EACA,MAAMO,GAAS,QAAQ,IAAIA,CAAK,CAAC,EAEpCV,EAAS,MAAM,CACb,QAAS,4BACT,SAAU,WACV,MAAO,MACb,CAAK,CAEL"}